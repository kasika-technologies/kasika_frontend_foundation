var KFF=(()=>{var g=Object.defineProperty;var k=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var A=(e,t)=>{for(var r in t)g(e,r,{get:t[r],enumerable:!0})};var u=(e,t,r)=>(k(e,typeof t!="symbol"?t+"":t,r),r);var _={};A(_,{Component:()=>f,Event:()=>O,State:()=>j});var m=(e,t)=>{!e||e.forEach(r=>{if(r.attached.includes(t)){console.error(`${t.element} has attached node that it is also attached to`);return}r.render()})};var d=e=>{let t=()=>e.map(a=>d(a)),r=()=>{let a=e.bind(void 0);return p(a),a},n=()=>{let a=new Map;for(let[o,E]of e)a.set(o,d(E));return a},s=()=>{let a={};return p(a),a},T=()=>{let a=new Set;for(let o of set)a.add(d(o));return a},p=a=>{for(let o in e)e.hasOwnProperty(o)&&(a[o]=d(e[o]))},y=()=>e.replace(/javascript:/gi,"").replace(/[^\w-_. ]/gi,function(a){return`&#${a.charCodeAt(0)};`});switch(c(e)){case"array":return t();case"function":return r();case"map":return n();case"object":return s();case"set":return T();case"string":return y();default:return e}},h=e=>({get(t,r){return["object","array"].indexOf(c(t[r]))>-1?new Proxy(t[r],h(e)):t[r]},set(t,r,n){return t[r]===n||(t[r]=n,e.render()),!0}}),b=e=>{e.debounce&&window.cancelAnimationFrame(e.debounce),e.debounce=window.requestAnimationFrame(()=>{e.render()})},c=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();var w=class{constructor(t,r){u(this,"attached",[]);u(this,"debounce",null);u(this,"element");u(this,"template");u(this,"_data");u(this,"state");this.attachTo=r.attachTo?c(r.attachTo)==="array"?r.attachTo:[r.attachTo]:[],this.element=t,this.template=r.template,this.state=r.state,this.isSharedState=!!r.isSharedState,this._data=null,r.data&&!r.state&&(this._data=new Proxy(r.data,h(this))),this.state&&this.state.attach(this),this.attachTo.length&&this.attachTo.forEach(n=>{n.attach(this)})}get data(){return this._data}set data(t){return this.state||(this._data=new Proxy(t,h(this)),b(this)),!0}attach(t){let r=c(t)==="array"?t:[t];for(let n of r)this.attached.push(n)}detach(t){let r=c(t)==="array"?t:[t];for(let n of r){let s=this.attached.indexOf(n);if(s<0)return;this.attached.splice(s,1)}}render(){if(this.isSharedState){m(this.attached,this);return}if(!this.template){console.error("No template.");return}let t=c(this.element)==="string"?document.querySelector(this.element):this.element;if(!t){console.log("No element.");return}let r=d(this.state?this.state.data:this.data),n;if(c(this.template)==="function"?n=this.template(r,t,t):n=this.template,!!["string","number"].includes(c(n)))return t.innerHTML=n,m(this.attached,this),t}},f=w;var l={},i={},v=(e,t)=>["*","window","document","document.documentElement",window,document,document.documentElement].indexOf(t)>-1?!0:typeof t!="string"&&t.contains?t===e||t.contains(taarget):e.closest(t),P=(e,t,r)=>{for(let n=0;n<e.length;n++)return e[n].selector===t&&e[n].callback.toString()===r.toString()?n:-1},x=e=>{!i[e.type]||i[e.type].forEach(t=>{!v(e.target,t.selector)||t.callback(e)})};l.get=()=>{let e={};for(let t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e};l.on=(e,t,r)=>{!t||!r||e.split(",").forEach(n=>{n=n.trim(),i[n]||(i[n]=[],window.addEventListener(n,x,!0)),i[n].push({selector:t,callback:r})})};l.once=(e,t,r)=>{l.on(e,t,function n(s){r(s),l.off(e,t,n)})};l.off=(e,t,r)=>{e.split(",").forEach(n=>{if(n=n.trim(),!i[n])return;if(i[n].length<2||!t){delete i[n],window.removeEventListener(n,x,!0);return}let s=P(i[n],t,r);s<0||i[n].splice(s,1)})};var O=l;var S=class extends f{constructor(t){t.isSharedState=!0,super(null,t)}},j=S;return _;})();
